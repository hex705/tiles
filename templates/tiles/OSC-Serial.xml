<template>

<unique>
	<import>
	import processing.serial.*;
	</import>
	<setup>
	// You'll find your serial device in this list 
	println(Serial.list());	
	</setup>
</unique>

<always>
	<variables>
	Serial serial$count;
	String serialName$COUNT = "/dev/tty.usbxxxxxx"; // put the name of your serial port
	int    baudRate = 9600; // set your baud rate	
	</variables>
	<setup>
	serial$COUNT = new Serial(this, serialName$COUNT, baudRate);
	</setup>
</always>

<default>
	<setup>
	serial$COUNT.bufferUntil('\n');
	</setup>

	<loop>
	sendSerial$COUNT(mouseX)
	</loop>

	<functions>
	// Receive serial data
	void serialEvent(Serial whichPort) {
		String data = whichPort.readStringUntil('\n');
		println(data); 
	}
	
	// Sending serial data
	void sendSerial$COUNT(String data) {
		serial$count.write(data);
	}
	</functions>
</default>

</template>